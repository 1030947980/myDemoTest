# 分布式服务

# nacos环境优先级
> [服务名称]-[环境].yaml配置文件 > [服务名称].yaml配置文件>本地配置

>如：
userservicenacos-localhost.yaml
高于orderservicenacos.yaml
高于本地配置
# 1.eureka
>spring-cloud

# 2.nacos
>spring-cloud-alibaba

# 3.两者区别
> 都支持服务注册和拉取
> 
> 都支持服务提供者心跳方式做健康监测 

> Eureka
>- eureka每30秒回去拉取一次服务信息，更新不及时
>- 若这30秒内服务挂了，消费者是不知道的

> nacos 
> - 默认全是临时实例
> - 临时实例采用心跳监测（默认5s），非临时实例不会采用心跳监测(采用主动询问)
>> - 服务宕机或挂了后；临时实例会被剔除；非临时实例不会被剔除(被标记为非健康状态)，等一直待服务恢复正常
> - 非临时实例主动发起请求询问服务是否存活
> - 服务挂了后会立即推送消息告知消费者及时更新服务状态 更新效率比eureka高